<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة الطالب - مدرسة الطف الابتدائية</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
        }
        
        .header {
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-left: 10px;
            border: 2px solid white;
        }
        
        .school-name {
            font-weight: 700;
            font-size: 18px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            color: #3498db;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .logout-btn {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .container {
            display: flex;
            min-height: calc(100vh - 70px);
        }
        
        .sidebar {
            width: 250px;
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
        }
        
        .sidebar-menu {
            list-style: none;
        }
        
        .menu-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }
        
        .menu-item:hover {
            background-color: #34495e;
        }
        
        .menu-item.active {
            background-color: #3498db;
        }
        
        .menu-icon {
            margin-left: 10px;
            font-size: 18px;
        }
        
        .main-content {
            flex: 1;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        .welcome-card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }
        
        .welcome-title {
            color: #3498db;
            margin-bottom: 10px;
            font-size: 20px;
        }
        
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        /* الواجبات المنزلية */
        .homework-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .homework-item {
            padding: 15px 0;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .homework-item:last-child {
            border-bottom: none;
        }
        
        .homework-subject {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .homework-date {
            color: #7f8c8d;
            font-size: 13px;
            margin: 5px 0;
        }
        
        .homework-desc {
            color: #555;
            line-height: 1.6;
        }
        
        .homework-status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
            margin-top: 5px;
        }
        
        .status-pending {
            background-color: #f39c12;
            color: white;
        }
        
        .status-completed {
            background-color: #2ecc71;
            color: white;
        }
        
        /* الامتحانات */
        .exams-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .exam-item {
            padding: 15px 0;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .exam-item:last-child {
            border-bottom: none;
        }
        
        .exam-subject {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .exam-date {
            color: #7f8c8d;
            font-size: 13px;
            margin: 5px 0;
        }
        
        .exam-desc {
            color: #555;
            line-height: 1.6;
        }
        
        /* الجدول الدراسي */
        .timetable-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .timetable {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .timetable th, .timetable td {
            border: 1px solid #eee;
            padding: 10px;
            text-align: center;
        }
        
        .timetable th {
            background-color: #f5f5f5;
            font-weight: 500;
        }
        
        /* الدرجات */
        .grades-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .grade-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .grade-item:last-child {
            border-bottom: none;
        }
        
        .grade-subject {
            font-weight: 500;
        }
        
        .grade-value {
            font-weight: 600;
        }
        
        /* الملف الشخصي */
        .profile-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin-left: 20px;
        }
        
        .profile-info {
            flex: 1;
        }
        
        .profile-name {
            font-size: 24px;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .profile-details {
            color: #7f8c8d;
        }
        
        /* الإشعارات */
        .notifications-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .notification-item {
            padding: 15px 0;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .notification-item:last-child {
            border-bottom: none;
        }
        
        .notification-title {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .notification-date {
            color: #7f8c8d;
            font-size: 13px;
            margin: 5px 0;
        }
        
        .notification-content {
            color: #555;
            line-height: 1.6;
        }
        
        .footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 12px;
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
            }
            
            .profile-container {
                flex-direction: column;
                text-align: center;
            }
            
            .profile-avatar {
                margin-left: 0;
                margin-bottom: 15px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <img src="https://a.top4top.io/p_34313kbyo1.jpg" class="logo" alt="شعار المدرسة">
            <div class="school-name">مدرسة الطف الابتدائية</div>
        </div>
        <div class="user-info">
            <div class="user-avatar">أ</div>
            <div>
                <div style="font-weight: 500;">الطالب: أحمد محمد حسن</div>
                <div style="font-size: 12px;">الصف: الثالث الابتدائي - شعبة أ</div>
            </div>
            <button class="logout-btn" onclick="window.location.href='index.html'">تسجيل الخروج</button>
        </div>
    </div>
    
    <div class="container">
        <div class="sidebar">
            <ul class="sidebar-menu">
                <li class="menu-item active" onclick="showSection('dashboard')">
                    <span>لوحة التحكم</span>
                    <i class="fas fa-tachometer-alt menu-icon"></i>
                </li>
                <li class="menu-item" onclick="showSection('homework')">
                    <span>الواجبات المنزلية</span>
                    <i class="fas fa-book menu-icon"></i>
                </li>
                <li class="menu-item" onclick="showSection('exams')">
                    <span>الامتحانات</span>
                    <i class="fas fa-clipboard-list menu-icon"></i>
                </li>
                <li class="menu-item" onclick="showSection('timetable')">
                    <span>الجدول الدراسي</span>
                    <i class="fas fa-calendar-alt menu-icon"></i>
                </li>
                <li class="menu-item" onclick="showSection('grades')">
                    <span>الدرجات</span>
                    <i class="fas fa-chart-bar menu-icon"></i>
                </li>
                <li class="menu-item" onclick="showSection('profile')">
                    <span>الملف الشخصي</span>
                    <i class="fas fa-user menu-icon"></i>
                </li>
                <li class="menu-item" onclick="showSection('notifications')">
                    <span>الإشعارات</span>
                    <i class="fas fa-bell menu-icon"></i>
                </li>
            </ul>
        </div>
        
        <div class="main-content">
            <!-- لوحة التحكم -->
            <div id="dashboard" class="content-section active">
                <div class="welcome-card">
                    <h2 class="welcome-title">مرحباً بك، أحمد</h2>
                    <p>هذه لوحة التحكم الخاصة بك حيث يمكنك الاطلاع على الواجبات والامتحانات والجدول الدراسي والدرجات.</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px;">
                    <div style="background-color: white; border-radius: 10px; padding: 15px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);">
                        <h3 style="color: #3498db; margin-bottom: 10px; font-size: 16px;">
                            <i class="fas fa-book" style="margin-left: 8px;"></i>
                            الواجبات المعلقة
                        </h3>
                        <p style="font-size: 24px; font-weight: bold; text-align: center; color: #2c3e50;">3</p>
                    </div>
                    
                    <div style="background-color: white; border-radius: 10px; padding: 15px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);">
                        <h3 style="color: #3498db; margin-bottom: 10px; font-size: 16px;">
                            <i class="fas fa-clipboard-list" style="margin-left: 8px;"></i>
                            الامتحانات القادمة
                        </h3>
                        <p style="font-size: 24px; font-weight: bold; text-align: center; color: #2c3e50;">2</p>
                    </div>
                    
                    <div style="background-color: white; border-radius: 10px; padding: 15px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);">
                        <h3 style="color: #3498db; margin-bottom: 10px; font-size: 16px;">
                            <i class="fas fa-calendar-alt" style="margin-left: 8px;"></i>
                            الحصص اليوم
                        </h3>
                        <p style="font-size: 24px; font-weight: bold; text-align: center; color: #2c3e50;">4</p>
                    </div>
                </div>
                
                <div style="background-color: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);">
                    <h3 style="color: #3498db; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px;">
                        <i class="fas fa-bell" style="margin-left: 10px;"></i>
                        آخر الإشعارات
                    </h3>
                    
                    <div style="padding: 10px 0;">
                        <div style="font-weight: 500;">موعد تسليم واجب الرياضيات</div>
                        <div style="color: #7f8c8d; font-size: 13px; margin: 5px 0;">15 مارس 2023</div>
                        <p style="color: #555;">الرجاء حل المسائل من الصفحة 25 إلى 28 وتسليمها غداً</p>
                    </div>
                </div>
            </div>
            
            <!-- الواجبات المنزلية -->
            <div id="homework" class="content-section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">
                    <i class="fas fa-book" style="margin-left: 10px;"></i>
                    الواجبات المنزلية
                </h2>
                
                <div class="homework-container">
                    <div class="homework-item">
                        <div class="homework-subject">اللغة العربية</div>
                        <div class="homework-date">موعد التسليم: غداً - 16 مارس 2023</div>
                        <div class="homework-desc">حل التمارين من الصفحة 12 إلى 15 في كتاب النشاط</div>
                        <span class="homework-status status-pending">قيد التنفيذ</span>
                    </div>
                    
                    <div class="homework-item">
                        <div class="homework-subject">الرياضيات</div>
                        <div class="homework-date">موعد التسليم: بعد غد - 17 مارس 2023</div>
                        <div class="homework-desc">حل المسائل 1 إلى 5 من الوحدة الثالثة</div>
                        <span class="homework-status status-pending">قيد التنفيذ</span>
                    </div>
                    
                    <div class="homework-item">
                        <div class="homework-subject">العلوم</div>
                        <div class="homework-date">تم التسليم: 14 مارس 2023</div>
                        <div class="homework-desc">كتابة تقرير عن التجربة في المعمل</div>
                        <span class="homework-status status-completed">تم التسليم</span>
                    </div>
                </div>
            </div>
            
            <!-- الامتحانات -->
            <div id="exams" class="content-section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">
                    <i class="fas fa-clipboard-list" style="margin-left: 10px;"></i>
                    الامتحانات
                </h2>
                
                <div class="exams-container">
                    <div class="exam-item">
                        <div class="exam-subject">امتحان اللغة العربية - الشهر الأول</div>
                        <div class="exam-date">20 مارس 2023 - 9:00 صباحاً</div>
                        <div class="exam-desc">الوحدة الأولى والثانية من الكتاب المدرسي</div>
                    </div>
                    
                    <div class="exam-item">
                        <div class="exam-subject">امتحان الرياضيات - الشهر الأول</div>
                        <div class="exam-date">22 مارس 2023 - 9:00 صباحاً</div>
                        <div class="exam-desc">الفصول 1 إلى 3 - عمليات الجمع والطرح</div>
                    </div>
                    
                    <div class="exam-item">
                        <div class="exam-subject">امتحان العلوم - الشهر الأول</div>
                        <div class="exam-date">25 مارس 2023 - 9:00 صباحاً</div>
                        <div class="exam-desc">الوحدة الأولى - الكائنات الحية</div>
                    </div>
                </div>
            </div>
            
            <!-- الجدول الدراسي -->
            <div id="timetable" class="content-section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">
                    <i class="fas fa-calendar-alt" style="margin-left: 10px;"></i>
                    الجدول الدراسي
                </h2>
                
                <div class="timetable-container">
                    <table class="timetable">
                        <tr>
                            <th>اليوم</th>
                            <th>الحصة الأولى</th>
                            <th>الحصة الثانية</th>
                            <th>الحصة الثالثة</th>
                            <th>الحصة الرابعة</th>
                        </tr>
                        <tr>
                            <td>الأحد</td>
                            <td>اللغة العربية</td>
                            <td>الرياضيات</td>
                            <td>العلوم</td>
                            <td>التربية الإسلامية</td>
                        </tr>
                        <tr>
                            <td>الإثنين</td>
                            <td>اللغة الإنجليزية</td>
                            <td>الاجتماعيات</td>
                            <td>التربية الفنية</td>
                            <td>التربية الرياضية</td>
                        </tr>
                        <tr>
                            <td>الثلاثاء</td>
                            <td>الرياضيات</td>
                            <td>اللغة العربية</td>
                            <td>العلوم</td>
                            <td>الحاسوب</td>
                        </tr>
                        <tr>
                            <td>الأربعاء</td>
                            <td>اللغة الإنجليزية</td>
                            <td>الاجتماعيات</td>
                            <td>التربية الإسلامية</td>
                            <td>النشاط المدرسي</td>
                        </tr>
                        <tr>
                            <td>الخميس</td>
                            <td>اللغة العربية</td>
                            <td>الرياضيات</td>
                            <td>العلوم</td>
                            <td>التربية الرياضية</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <!-- الدرجات -->
            <div id="grades" class="content-section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">
                    <i class="fas fa-chart-bar" style="margin-left: 10px;"></i>
                    الدرجات
                </h2>
                
                <div class="grades-container">
                    <div class="grade-item">
                        <span class="grade-subject">اللغة العربية</span>
                        <span class="grade-value">95%</span>
                    </div>
                    <div class="grade-item">
                        <span class="grade-subject">الرياضيات</span>
                        <span class="grade-value">88%</span>
                    </div>
                    <div class="grade-item">
                        <span class="grade-subject">العلوم</span>
                        <span class="grade-value">92%</span>
                    </div>
                    <div class="grade-item">
                        <span class="grade-subject">اللغة الإنجليزية</span>
                        <span class="grade-value">85%</span>
                    </div>
                    <div class="grade-item">
                        <span class="grade-subject">الاجتماعيات</span>
                        <span class="grade-value">90%</span>
                    </div>
                    <div class="grade-item" style="font-weight: bold; border-top: 1px solid #ddd; padding-top: 15px;">
                        <span>المعدل العام</span>
                        <span>90%</span>
                    </div>
                </div>
            </div>
            
            <!-- الملف الشخصي -->
            <div id="profile" class="content-section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">
                    <i class="fas fa-user" style="margin-left: 10px;"></i>
                    الملف الشخصي
                </h2>
                
                <div class="profile-container">
                    <div class="profile-avatar">أ</div>
                    <div class="profile-info">
                        <h3 class="profile-name">أحمد محمد حسن</h3>
                        <div class="profile-details">
                            <p><strong>الصف:</strong> الثالث الابتدائي - شعبة أ</p>
                            <p><strong>رقم الهاتف:</strong> 07801234567</p>
                            <p><strong>ولي الأمر:</strong> محمد حسن علي (الأب)</p>
                            <p><strong>هاتف ولي الأمر:</strong> 07807654321</p>
                            <p><strong>تاريخ الميلاد:</strong> 10/05/2015</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- الإشعارات -->
            <div id="notifications" class="content-section">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">
                    <i class="fas fa-bell" style="margin-left: 10px;"></i>
                    الإشعارات
                </h2>
                
                <div class="notifications-container">
                    <div class="notification-item">
                        <div class="notification-title">موعد تسليم واجب الرياضيات</div>
                        <div class="notification-date">15 مارس 2023 - 10:30 صباحاً</div>
                        <div class="notification-content">الرجاء حل المسائل من الصفحة 25 إلى 28 وتسليمها غداً</div>
                    </div>
                    
                    <div class="notification-item">
                        <div class="notification-title">إشعار بموعد الامتحان</div>
                        <div class="notification-date">12 مارس 2023 - 9:15 صباحاً</div>
                        <div class="notification-content">سيتم عقد امتحان اللغة العربية للشهر الأول يوم الأربعاء الموافق 20/3/2023</div>
                    </div>
                    
                    <div class="notification-item">
                        <div class="notification-title">نشاط مدرسي</div>
                        <div class="notification-date">10 مارس 2023 - 11:00 صباحاً</div>
                        <div class="notification-content">سيتم تنظيم رحلة علمية إلى المتحف الوطني يوم الثلاثاء القادم</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>مدرسة الطف الابتدائية للبنين - الكوفة</p>
        <p>بواسطة <span style="font-weight: bold;">أوروك سوفت</span> | UrukSoft</p>
        <p>مرتضى حسين</p>
    </div>

    <script>
        function showSection(sectionId) {
            // إخفاء جميع الأقسام
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // إزالة التنشيط من جميع عناصر القائمة
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // إظهار القسم المحدد
            document.getElementById(sectionId).classList.add('active');
            
            // تنشيط عنصر القائمة المحدد
            event.currentTarget.classList.add('active');
        }
    </script>
    <script type="module">
  import { db, collection, getDocs, query, where } from './firebase-config.js';

  async function loadStudentData() {
    const student = JSON.parse(localStorage.getItem('currentStudent'));
    if (!student) {
      alert('لم يتم العثور على بيانات الطالب');
      window.location.href = 'login.html';
      return;
    }

    // جلب الواجبات
    try {
      const q = query(
        collection(db, 'assignments'),
        where('class', '==', `${student.grade}${student.class}`)
      );
      
      const querySnapshot = await getDocs(q);
      const homeworkContainer = document.querySelector('.homework-container');
      homeworkContainer.innerHTML = '';
      
      querySnapshot.forEach(doc => {
        const assignment = doc.data();
        homeworkContainer.innerHTML += `
          <div class="homework-item">
            <div class="homework-subject">${assignment.title}</div>
            <div class="homework-date">موعد التسليم: ${assignment.dueDate}</div>
            <div class="homework-desc">${assignment.description}</div>
            <span class="homework-status ${isAssignmentDone(assignment) ? 'status-completed' : 'status-pending'}">
              ${isAssignmentDone(assignment) ? 'تم التسليم' : 'قيد التنفيذ'}
            </span>
          </div>
        `;
      });
    } catch (error) {
      console.error('Error loading assignments:', error);
      alert('حدث خطأ أثناء جلب الواجبات');
    }
  }

  function isAssignmentDone(assignment) {
    // يمكنك إضافة منطق التحقق من إنجاز الواجب
    return false;
  }

  document.addEventListener('DOMContentLoaded', loadStudentData);
</script>
</body>
</html>